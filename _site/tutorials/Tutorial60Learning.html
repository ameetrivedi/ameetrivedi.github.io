<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="/assets/ico/favicon.ico">
    
    <title>FACTORIE: Learning and Optimization</title>
    
    <!-- Bootstrap core CSS -->
    <link href="/assets/css/bootstrap-custom.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/assets/css/jumbotron.css" rel="stylesheet">
    <link href="/assets/css/offcanvas.css" rel="stylesheet">
    <link href="/assets/css/affix.css" rel="stylesheet">
    
    <!-- For Pygments syntax highlighting -->
    <link href="/assets/css/pygments/github.css" rel="stylesheet">
    
  </head>
  <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
      
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-img" href="/index.html"><img src="/assets/images/factorie-logo-smaller.png"/></a><a class="navbar-brand" href="/index.html">FACTORIE</a>
        </div>
        <div class="navbar-collapse collapse">
				<ul class="nav navbar-nav">
  				
  				
      

      

      
         
            <li><a href="/index.html">Home</a></li>
         
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      
         
            <li><a href="/download.html">Download</a></li>
         
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      
         
            <li><a href="/news.html">News</a></li>
         
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      



					<li class="dropdown">
		              <a id="drop1" href="#" role="button" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
		              <ul class="dropdown-menu" role="menu" aria-labelledby="drop1">
		                <li role="presentation"><a role="menuitem" tabindex="-1" href="/tutorials/UsersGuide20Installation.html">Installation</a></li>
		                <li role="presentation"><a role="menuitem" tabindex="-1" href="/tutorials/UsersGuide25QuickStart.html">Quick Start</a></li>
		                <li role="presentation"><a role="menuitem" tabindex="-1" href="/tutorials/UsersGuide10Introduction.html">Users Guide</a></li>
		                <li role="presentation"><a role="menuitem" tabindex="-1" href="/tutorials/Tutorial10Variables.html">Tutorials</a></li>
		                <li role="presentation"><a role="menuitem" tabindex="-1" href="/faqs.html">FAQs</a></li>  
 		                <li role="presentation" class="divider"></li>
		                <li role="presentation"><a role="menuitem" tabindex="-1" href="scaladocs/#cc.factorie.package">Scaladocs</a></li>
		              </ul>
		           </li>
				</ul>			
			</div><!-- /.nav-collapse -->
  </div><!-- /.container -->
</div><!-- /.navbar -->
  <div class="container">
	 <div class="row row-offcanvas row-offcanvas-left">
     <div class="col-xs-12 col-sm-9">
       <p class="pull-left visible-xs">
         <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Toggle nav</button>
       </p>
     </div>
	 <div class="col-xs-2 col-sm-3 col-md-2 bs-sidebar sidebar-offcanvas affix" id="sidebar" role="navigation"> 
	 <ul class="nav nav-list">
  <li class="nav-header">Users Guide</li>
  
  
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
         
            <li><a href="/tutorials/UsersGuide10Introduction.html">Introduction</a></li>
         
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
         
            <li><a href="/tutorials/UsersGuide20Installation.html">Installation</a></li>
         
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
         
            <li><a href="/tutorials/UsersGuide25QuickStart.html">Quick Start</a></li>
         
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
         
            <li><a href="/tutorials/UsersGuide30Overview.html">Overview</a></li>
         
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
         
            <li><a href="/tutorials/UsersGuide60Inference.html">Inference</a></li>
         
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
         
            <li><a href="/tutorials/UsersGuide70LearningAndOptimization.html">Learning and Optimization</a></li>
         
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 


  <li class="nav-header">Tutorials</li>
  
  
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
         
            <li><a href="/tutorials/Tutorial10Variables.html">Variable</a></li>
         
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
         
            <li><a href="/tutorials/Tutorial11Domain.html">Domain</a></li>
         
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
         
            <li><a href="/tutorials/Tutorial20Factors.html">Factor</a></li>
         
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
         
            <li><a href="/tutorials/Tutorial21Family.html">Family</a></li>
         
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
         
            <li><a href="/tutorials/Tutorial30Model.html">Model</a></li>
         
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
         
            <li><a href="/tutorials/Tutorial32Template.html">Template</a></li>
         
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
         
            <li class="active"><a href="/tutorials/Tutorial60Learning.html">Learning and Optimization</a></li>
         
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
   
      
         
            <li><a href="/tutorials/Tutorial90ParallelismAndHyperparameters.html">Parallelism</a></li>
         
      
   
      
   
      
   
      
   
      
   
      
   
      
   
 


  <li class="nav-divider"></li>
  <li class="nav-noindent"><a href="http://www.iesl.cs.umass.edu">IESL</a></li>
  <li class="nav-noindent"><a href="https://groups.google.com/a/factorie.cs.umass.edu/forum/#!forum/discuss">Mailing List</a></li>  
  
      

      

      

      

      

      

      
         
            <li class="nav-noindent"><a href="/pubs.html">Publications and Sponsors</a></li>
         
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      


</ul>
 
	 </div>
	 <div class="col-xs-10 col-sm-9 col-md-9 pull-right" id="main" role="content">
	 <h1>Learning and Optimization Tutorial</h1>

<p>In this tutorial we set up a simple linear chain CRF, such as the one used for part-of-speech tagging,
named-entity recognition, or noun phrase chunking. It will be our running example in this
tutorial, but most of the things we&#39;ll discuss generalize all across Factorie.</p>
<div class="highlight"><pre><code class="scala language-scala" data-lang="scala"><span class="k">package</span> <span class="nn">cc.factorie.tutorial</span>
<span class="k">object</span> <span class="nc">Tutorial60Learning</span> <span class="k">extends</span> <span class="nc">App</span> <span class="o">{</span>
  <span class="k">import</span> <span class="nn">cc.factorie._</span>
  <span class="k">import</span> <span class="nn">variable._</span>
  <span class="k">import</span> <span class="nn">cc.factorie.app.nlp._</span>
  <span class="k">import</span> <span class="nn">cc.factorie.app.chain._</span>
  <span class="k">import</span> <span class="nn">cc.factorie.optimize.</span><span class="o">{</span> <span class="nc">SynchronizedOptimizerOnlineTrainer</span><span class="o">,</span> <span class="nc">Trainer</span><span class="o">,</span> <span class="nc">SampleRankTrainer</span> <span class="o">}</span>
  <span class="k">import</span> <span class="nn">cc.factorie.infer.</span><span class="o">{</span> <span class="nc">GibbsSampler</span><span class="o">,</span> <span class="nc">InferByBPChain</span> <span class="o">}</span>

  <span class="k">implicit</span> <span class="k">val</span> <span class="n">random</span> <span class="k">=</span> <span class="k">new</span> <span class="n">scala</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="nc">Random</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span>
</code></pre></div>
<p>First we create domains representing the labels and features.</p>
<div class="highlight"><pre><code class="scala language-scala" data-lang="scala">  <span class="k">object</span> <span class="nc">LabelDomain</span> <span class="k">extends</span> <span class="nc">CategoricalDomain</span><span class="o">[</span><span class="kt">String</span><span class="o">]</span>
  <span class="k">class</span> <span class="nc">Label</span><span class="o">(</span><span class="k">val</span> <span class="n">token</span><span class="k">:</span> <span class="kt">Token</span><span class="o">,</span> <span class="n">s</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">LabeledCategoricalVariable</span><span class="o">(</span><span class="n">s</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">def</span> <span class="n">domain</span> <span class="k">=</span> <span class="nc">LabelDomain</span>
  <span class="o">}</span>
  <span class="k">object</span> <span class="nc">FeaturesDomain</span> <span class="k">extends</span> <span class="nc">CategoricalVectorDomain</span><span class="o">[</span><span class="kt">String</span><span class="o">]</span>
  <span class="k">class</span> <span class="nc">Features</span><span class="o">(</span><span class="k">val</span> <span class="n">token</span><span class="k">:</span> <span class="kt">Token</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">BinaryFeatureVectorVariable</span><span class="o">[</span><span class="kt">String</span><span class="o">]</span> <span class="o">{</span>
    <span class="k">def</span> <span class="n">domain</span> <span class="k">=</span> <span class="nc">FeaturesDomain</span>
  <span class="o">}</span>
</code></pre></div>
<p>The ChainModel class implements a default model for linear chains.
It by default implements all the factor templates one expects from a linear chain model,
with the exception that the (label, label, features) template is optional.</p>

<p>As we saw in the Model tutorial, a model in Factorie is an object that
can take some variables and return some factors, which know how to score
assignments of those variables. So models store weightsSet, and things like that.</p>

<p>To construct a chain model you need to give it a few things. First, the domains
of the labels and the token features. Then, functions that can take a label to
its feature vector, a label to its token, and a token to its label. These functions
are used by the ChainModel class to generate factors.</p>
<div class="highlight"><pre><code class="scala language-scala" data-lang="scala">  <span class="k">object</span> <span class="nc">model</span> <span class="k">extends</span> <span class="nc">ChainModel</span><span class="o">[</span><span class="kt">Label</span>, <span class="kt">Features</span>, <span class="kt">Token</span><span class="o">](</span>
    <span class="nc">LabelDomain</span><span class="o">,</span>
    <span class="nc">FeaturesDomain</span><span class="o">,</span>
    <span class="n">l</span> <span class="k">=&gt;</span> <span class="n">l</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">attr</span><span class="o">[</span><span class="kt">Features</span><span class="o">],</span>
    <span class="n">l</span> <span class="k">=&gt;</span> <span class="n">l</span><span class="o">.</span><span class="n">token</span><span class="o">,</span>
    <span class="n">t</span> <span class="k">=&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">attr</span><span class="o">[</span><span class="kt">Label</span><span class="o">])</span>

  <span class="c1">// The Document class implements documents as sequences of sentences and tokens.</span>
  <span class="k">val</span> <span class="n">document</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Document</span><span class="o">(</span><span class="s">&quot;The quick brown fox jumped over the lazy dog.&quot;</span><span class="o">)</span>
  <span class="k">val</span> <span class="n">tokenizer</span> <span class="k">=</span> <span class="k">new</span> <span class="n">app</span><span class="o">.</span><span class="n">nlp</span><span class="o">.</span><span class="n">segment</span><span class="o">.</span><span class="nc">DeterministicTokenizer</span>
  <span class="n">tokenizer</span><span class="o">.</span><span class="n">process</span><span class="o">(</span><span class="n">document</span><span class="o">)</span>
  <span class="k">val</span> <span class="n">segmenter</span> <span class="k">=</span> <span class="k">new</span> <span class="n">app</span><span class="o">.</span><span class="n">nlp</span><span class="o">.</span><span class="n">segment</span><span class="o">.</span><span class="nc">DeterministicSentenceSegmenter</span>
  <span class="n">segmenter</span><span class="o">.</span><span class="n">process</span><span class="o">(</span><span class="n">document</span><span class="o">)</span>
  <span class="n">assertStringEquals</span><span class="o">(</span><span class="n">document</span><span class="o">.</span><span class="n">tokenCount</span><span class="o">,</span> <span class="s">&quot;10&quot;</span><span class="o">)</span>
  <span class="n">assertStringEquals</span><span class="o">(</span><span class="n">document</span><span class="o">.</span><span class="n">sentenceCount</span><span class="o">,</span> <span class="s">&quot;1&quot;</span><span class="o">)</span>

  <span class="c1">// Let&#39;s assign all tokens the same label for the sake of simplicity</span>
  <span class="n">document</span><span class="o">.</span><span class="n">tokens</span><span class="o">.</span><span class="n">foreach</span><span class="o">(</span><span class="n">t</span> <span class="k">=&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">attr</span> <span class="o">+=</span> <span class="k">new</span> <span class="nc">Label</span><span class="o">(</span><span class="n">t</span><span class="o">,</span> <span class="s">&quot;A&quot;</span><span class="o">))</span>
  <span class="c1">// Let&#39;s also have another possible Label value to make things interesting</span>
  <span class="nc">LabelDomain</span><span class="o">.</span><span class="n">index</span><span class="o">(</span><span class="s">&quot;B&quot;</span><span class="o">)</span>
  <span class="c1">// Let&#39;s also initialize features for all tokens</span>
  <span class="n">document</span><span class="o">.</span><span class="n">tokens</span><span class="o">.</span><span class="n">foreach</span><span class="o">(</span><span class="n">t</span> <span class="k">=&gt;</span> <span class="o">{</span>
    <span class="k">val</span> <span class="n">features</span> <span class="k">=</span> <span class="n">t</span><span class="o">.</span><span class="n">attr</span> <span class="o">+=</span> <span class="k">new</span> <span class="nc">Features</span><span class="o">(</span><span class="n">t</span><span class="o">)</span>
    <span class="c1">// One feature for the token&#39;s string value</span>
    <span class="n">features</span> <span class="o">+=</span> <span class="s">&quot;W=&quot;</span> <span class="o">+</span> <span class="n">t</span><span class="o">.</span><span class="n">string</span><span class="o">.</span><span class="n">toLowerCase</span>
    <span class="c1">// And one feature for its capitalization</span>
    <span class="n">features</span> <span class="o">+=</span> <span class="s">&quot;IsCapitalized=&quot;</span> <span class="o">+</span> <span class="n">t</span><span class="o">.</span><span class="n">string</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="n">isUpper</span><span class="o">.</span><span class="n">toString</span>
  <span class="o">})</span>
</code></pre></div>
<p>Now that we have one sentence and a model we can start to do inference in it.</p>

<p>Inference in Factorie is abstracted in objects that implement the Infer trait,
which has one method, infer, that takes a sequence of variables, a model, and an
optional Summary, and returns a Summary object with the result of inference.</p>

<p>A Summary object has two essential pieces of information in it: it allows you to
compute the normalization constant of the model (useful for learning), and it can
return marginal distributions over subsets of variables in your model. It also
knows how to turn these marginals into expected sufficient statistics for learning.</p>

<p>The most commonly used Infer objects are those in the BP package.</p>
<div class="highlight"><pre><code class="scala language-scala" data-lang="scala">  <span class="k">val</span> <span class="n">summary</span> <span class="k">=</span> <span class="nc">InferByBPChain</span><span class="o">.</span><span class="n">infer</span><span class="o">(</span><span class="n">document</span><span class="o">.</span><span class="n">tokens</span><span class="o">.</span><span class="n">toSeq</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">attr</span><span class="o">[</span><span class="kt">Label</span><span class="o">]),</span> <span class="n">model</span><span class="o">)</span>
  <span class="n">assertStringEquals</span><span class="o">(</span><span class="n">summary</span><span class="o">.</span><span class="n">logZ</span><span class="o">,</span> <span class="s">&quot;6.931471805599453&quot;</span><span class="o">)</span>
  <span class="n">assertStringEquals</span><span class="o">(</span><span class="n">summary</span><span class="o">.</span><span class="n">marginal</span><span class="o">(</span><span class="n">document</span><span class="o">.</span><span class="n">tokens</span><span class="o">.</span><span class="n">head</span><span class="o">.</span><span class="n">attr</span><span class="o">[</span><span class="kt">Label</span><span class="o">]).</span><span class="n">proportions</span><span class="o">,</span> 
                     <span class="s">&quot;Proportions(0.49999999999999994,0.49999999999999994)&quot;</span><span class="o">)</span>
</code></pre></div>
<p>Aside from InferByBPChainSum, which knows how to run forward-backward on chain models
Factorie has MaximizeByBPChain, which runs viterbi, InferByBPTreeSum, which runs BP on
trees, and InferByBPLoopy which runs loopy belief propagation.</p>

<p>For more inference tools see the Inference tutorial.</p>

<p>One of the main uses of inference is in learning.</p>

<p>The learning infrastructure in Factorie is made of three components which can
be mixed and matched at will.</p>

<p>An Example abstracts over a piece of data and knows how to compute objectives
and gradients.</p>

<p>GradientOptimizers know how to update a model&#39;s weightsSet given gradients and values.</p>

<p>In the middle between Examples and GradientOptimizers we have Trainers, which control
when the gradients are evaluated, where they are stored, the degree of parallelism, etc.</p>

<p>The most common example one uses is the LikelihoodExample, which computes the value and the
gradient for maximum likelihood training. Here&#39;s how to construct one for this sentence
using Factorie&#39;s BP inferencer.</p>
<div class="highlight"><pre><code class="scala language-scala" data-lang="scala">  <span class="k">val</span> <span class="n">example</span> <span class="k">=</span> <span class="k">new</span> <span class="n">optimize</span><span class="o">.</span><span class="nc">LikelihoodExample</span><span class="o">(</span><span class="n">document</span><span class="o">.</span><span class="n">tokens</span><span class="o">.</span><span class="n">toSeq</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">attr</span><span class="o">[</span><span class="kt">Label</span><span class="o">]),</span> <span class="n">model</span><span class="o">,</span> <span class="nc">InferByBPChain</span><span class="o">)</span>
</code></pre></div>
<p>In this tutorial let&#39;s use the AdaGrad optimizer, which is efficient and has
per-coordinate learning rates but is not regularized</p>
<div class="highlight"><pre><code class="scala language-scala" data-lang="scala">  <span class="k">val</span> <span class="n">optimizer0</span> <span class="k">=</span> <span class="k">new</span> <span class="n">optimize</span><span class="o">.</span><span class="nc">AdaGrad</span><span class="o">()</span>
</code></pre></div>
<p>To learn a model the simplest way is to call Trainer.onlineTrain. This will optimize the
parameters with AdaGrad and parameter averaging using SGD.</p>
<div class="highlight"><pre><code class="scala language-scala" data-lang="scala">  <span class="nc">Trainer</span><span class="o">.</span><span class="n">onlineTrain</span><span class="o">(</span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">,</span> <span class="nc">Seq</span><span class="o">(</span><span class="n">example</span><span class="o">),</span> <span class="n">optimizer</span> <span class="k">=</span> <span class="n">optimizer0</span><span class="o">)</span>

  <span class="c1">// Factorie also supports batch learning. Note that regularization is built into the optimizer</span>
  <span class="k">val</span> <span class="n">optimizer1</span> <span class="k">=</span> <span class="k">new</span> <span class="n">optimize</span><span class="o">.</span><span class="nc">LBFGS</span> <span class="k">with</span> <span class="n">optimize</span><span class="o">.</span><span class="n">L2Regularization</span>
  <span class="n">optimizer1</span><span class="o">.</span><span class="n">variance</span> <span class="k">=</span> <span class="mf">10000.0</span>
  <span class="nc">Trainer</span><span class="o">.</span><span class="n">batchTrain</span><span class="o">(</span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">,</span> <span class="nc">Seq</span><span class="o">(</span><span class="n">example</span><span class="o">),</span> <span class="n">optimizer</span> <span class="k">=</span> <span class="n">optimizer1</span><span class="o">)</span>
</code></pre></div>
<p>Factorie also supports other batch trainers. The ParallelBatchTrainer keeps a per-thread
gradient vector and aggregates all gradients before sending them to the optimizer, while
the SynchronizedBatchTrainer keeps a single gradient vector and locks it.</p>

<p>Also note that all online optimizers can be used with the batch trainers, but not the
other way around.</p>

<p>One can also not call Trainer.onlineTrain or Trainer.batchTrain and create a Trainer
explicitly. A Trainer is a policy object which is responsible for deciding which gradients
are evaluated, when, and in which threads, and when these gradients are given to the optimizers.</p>

<p>All trainers inherit from Trainer. To create a trainer, simply instantiate it.</p>
<div class="highlight"><pre><code class="scala language-scala" data-lang="scala">  <span class="k">val</span> <span class="n">trainer</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">SynchronizedOptimizerOnlineTrainer</span><span class="o">(</span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">,</span> <span class="n">optimizer0</span><span class="o">)</span>
</code></pre></div>
<p>To use the trainer we can either call .trainFromExamples or call things in a loop:</p>
<div class="highlight"><pre><code class="scala language-scala" data-lang="scala">  <span class="n">trainer</span><span class="o">.</span><span class="n">trainFromExamples</span><span class="o">(</span><span class="nc">Seq</span><span class="o">(</span><span class="n">example</span><span class="o">))</span>
  <span class="c1">// or</span>
  <span class="k">while</span> <span class="o">(!</span><span class="n">trainer</span><span class="o">.</span><span class="n">isConverged</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">trainer</span><span class="o">.</span><span class="n">processExamples</span><span class="o">(</span><span class="nc">Seq</span><span class="o">(</span><span class="n">example</span><span class="o">))</span>
  <span class="o">}</span>
</code></pre></div>
<p>Some trainers might require some tear down after training for optimal usage. See the implementation
of Trainer.train for an example of how to do so.</p>

<p>Factorie also has many other optimizers. Usually AdaGrad with ParameterAveraging is a good bet,
but often one wants something more specific.</p>

<p>There are two main regularized online optimizers in Factorie: AdaGradRDA, which uses regularized
dual averaging and supports l1 and l2 regularization, and L2RegularizedConstantRate, which supports
only l2 regularization. Neither of these optimizers support parameter averaging.</p>

<p>For more information see the java docs of the cc.factorie.optimize package.</p>
<div class="highlight"><pre><code class="scala language-scala" data-lang="scala">  <span class="c1">// Now we can run inference and see that we have learned</span>
  <span class="k">val</span> <span class="n">summary2</span> <span class="k">=</span> <span class="nc">InferByBPChain</span><span class="o">(</span><span class="n">document</span><span class="o">.</span><span class="n">tokens</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">attr</span><span class="o">[</span><span class="kt">Label</span><span class="o">]).</span><span class="n">toIndexedSeq</span><span class="o">,</span> <span class="n">model</span><span class="o">)</span>
  <span class="n">assertStringEquals</span><span class="o">(</span><span class="n">summary2</span><span class="o">.</span><span class="n">logZ</span><span class="o">,</span> <span class="s">&quot;48.63607808729122&quot;</span><span class="o">)</span>
  <span class="n">assertStringEquals</span><span class="o">(</span><span class="n">summary2</span><span class="o">.</span><span class="n">marginal</span><span class="o">(</span><span class="n">document</span><span class="o">.</span><span class="n">tokens</span><span class="o">.</span><span class="n">head</span><span class="o">.</span><span class="n">attr</span><span class="o">[</span><span class="kt">Label</span><span class="o">]).</span><span class="n">proportions</span><span class="o">,</span> 
                     <span class="s">&quot;Proportions(0.9999308678897892,6.913211020966629E-5)&quot;</span><span class="o">)</span>
</code></pre></div>
<p>Factorie also has support for more efficient learning algorithms than traditional
inference-based batch and online methods.</p>

<p>The main such method is SampleRank, which runs a sampler and updates the weightsSet
while the sampler explores the posterior to make the model&#39;s predictions match an
arbitrary loss function.</p>
<div class="highlight"><pre><code class="scala language-scala" data-lang="scala">  <span class="k">val</span> <span class="n">sampler</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">GibbsSampler</span><span class="o">(</span><span class="n">model</span><span class="o">,</span> <span class="nc">HammingObjective</span><span class="o">)</span>
  <span class="k">val</span> <span class="n">sampleRankExamples</span> <span class="k">=</span> <span class="n">document</span><span class="o">.</span><span class="n">tokens</span><span class="o">.</span><span class="n">toSeq</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="n">t</span> <span class="k">=&gt;</span> <span class="k">new</span> <span class="n">optimize</span><span class="o">.</span><span class="nc">SampleRankExample</span><span class="o">(</span><span class="n">t</span><span class="o">.</span><span class="n">attr</span><span class="o">[</span><span class="kt">Label</span><span class="o">],</span> <span class="n">sampler</span><span class="o">))</span>
  <span class="nc">Trainer</span><span class="o">.</span><span class="n">onlineTrain</span><span class="o">(</span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">,</span> <span class="n">sampleRankExamples</span><span class="o">,</span> <span class="n">optimizer</span> <span class="k">=</span> <span class="n">optimizer0</span><span class="o">)</span>
  <span class="c1">// SampleRank comes with its own trainer, however, for ease of use</span>
  <span class="k">val</span> <span class="n">trainer2</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">SampleRankTrainer</span><span class="o">(</span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="o">,</span> <span class="n">sampler</span><span class="o">,</span> <span class="n">optimizer0</span><span class="o">)</span>
  <span class="n">trainer2</span><span class="o">.</span><span class="n">processContexts</span><span class="o">(</span><span class="n">document</span><span class="o">.</span><span class="n">tokens</span><span class="o">.</span><span class="n">toSeq</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">attr</span><span class="o">[</span><span class="kt">Label</span><span class="o">]))</span>
<span class="o">}</span>
</code></pre></div>
<p>Finally, there are many other useful examples in Factorie. The LinearMulticlassExample
implements generalized linear models for many classification loss functions, for example, and the
DominationLossExample knows how to do learning to rank.</p>

	 </div>
	</div> <!-- /row -->
  <div class="footer" id="footer">
<hr>
  <p>
    Factorie is open source software <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a>. Please <a href="/pubs.html">cite</a> for research use.<br>
    <a href="http://www.iesl.cs.umass.edu/">Information Extraction and Synthesis Laboratory</a> (IESL), <a href="http://www.cs.umass.edu/">School of Computer Science</a>, <a href="http://www.umass.edu/">University of Massachusetts Amherst</a>.
  </p>
</div>

  </div> <!-- /container -->
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="/assets/js/bootstrap.js"></script>
    <script src="/assets/js/offcanvas.js"></script>
    <script src="/assets/js/affix.js"></script>
	  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script>
	  $(document).ready(function() {
	
	   var docHeight = $(window).height();
	   var footerHeight = $('#footer').height();
	   var footerTop = $('#footer').position().top + footerHeight;
	
	   if (footerTop < docHeight) {
	    $('#footer').css('margin-top', 5 + (docHeight - footerTop) + 'px');
	   }
	  });
	 </script>
	 <script>
		 MathJax.Hub.Config({
		   "HTML-CSS": {styles: {".MathJax .mo, .MathJax .mi": {color: "#333333 ! important"}}},
	       tex2jax: {skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']}
	     });
	 </script>
</html>
